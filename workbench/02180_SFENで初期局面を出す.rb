require "#{__dir__}/setup"

body = "
*詳細URL：https://www.shogi-extend.com/swars/battles/kiyomihara-kinakom0chi-20250705_235810
*ぴよ将棋：https://www.shogi-extend.com/swars/battles/kiyomihara-kinakom0chi-20250705_235810/piyo_shogi
*KENTO：https://www.shogi-extend.com/swars/battles/kiyomihara-kinakom0chi-20250705_235810/kento
先手：kiyomihara 1級
後手：kinakom0chi 1級
開始日時：2025/07/05 23:58:10
棋戦：将棋ウォーズ(3分切れ負け スプリント)
持ち時間：3分
結末：時間切れ
勝者：△
先手の手筋：尻金, 裾銀, ふんどしの桂, 連打の歩, 腹金
後手の手筋：裾銀, 頭金, 腹金, 頭銀, 下段の香
先手の備考：入玉, 相入玉
後手の備考：入玉, 相入玉
後手の持駒：金二 歩二
  ９ ８ ７ ６ ５ ４ ３ ２ １
+---------------------------+
|v香 ・ ・v金 ・ ・ ・ ・ ・|一
| ・v玉v銀 ・ ・ ・ ・ ・ ・|二
| ・v歩v桂v金 ・ ・ ・ ・v歩|三
|v歩 ・v歩 ・ ・ ・ ・v角 ・|四
| ・ ・ ・ 歩 ・ 馬v歩 桂 ・|五
| 歩 ・ 歩 ・ 歩 ・v全 ・ 歩|六
| ・ 歩 ・ 銀 ・ ・ ・ ・ ・|七
| ・ ・ ・ 玉 ・ 銀vと ・ ・|八
| 香 桂 ・ ・ ・ ・ ・ 飛 香|九
+---------------------------+
先手の持駒：飛 桂 香 歩四
先手番
手数----指手---------消費時間--
   1 ７九飛(29)   (00:10/00:00:10)
   2 ４八と(38)   (00:02/00:00:02)
   3 ７七玉(68)   (00:02/00:00:12)
   4 ５七金打     (00:08/00:00:10)
   5 ６四香打     (00:07/00:00:19)
   6 ６八銀打     (00:05/00:00:15)
*△手筋：裾銀
   7 ８六玉(77)   (00:03/00:00:22)
   8 ７九銀成(68) (00:04/00:00:19)
   9 ６三香成(64) (00:02/00:00:24)
  10 ６三銀(72)   (00:01/00:00:20)
  11 ６三馬(45)   (00:02/00:00:26)
  12 ４二角(24)   (00:06/00:00:26)
  13 ６四桂打     (00:03/00:00:29)
  14 ８五金打     (00:05/00:00:31)
*△手筋：頭金
  15 ７七玉(86)   (00:02/00:00:31)
  16 ６七金(57)   (00:05/00:00:36)
*△手筋：腹金
  17 ６七玉(77)   (00:01/00:00:32)
  18 ４七飛打     (00:58/00:01:34)
  19 ５七金打     (00:07/00:00:39)
  20 ４三飛成(47) (00:05/00:01:39)
  21 ８一金打     (00:08/00:00:47)
*▲手筋：尻金
  22 ９三玉(82)   (00:02/00:01:41)
  23 ８二銀打     (00:07/00:00:54)
*▲手筋：裾銀
  24 ８四玉(93)   (00:02/00:01:43)
  25 ７三銀(82)   (00:05/00:00:59)
*▲手筋：裾銀
  26 ９三玉(84)   (00:02/00:01:45)
  27 ８二銀(73)   (00:03/00:01:02)
*▲手筋：裾銀
  28 ８四玉(93)   (00:05/00:01:50)
  29 ７三馬(63)   (00:01/00:01:03)
  30 ７三龍(43)   (00:19/00:02:09)
  31 ７三銀(82)   (00:03/00:01:06)
*▲手筋：裾銀
  32 ７三玉(84)   (00:01/00:02:10)
  33 ４三飛打     (00:06/00:01:12)
  34 ５三銀打     (00:03/00:02:13)
  35 ４二飛成(43) (00:21/00:01:33)
  36 ４二銀(53)   (00:02/00:02:15)
  37 ８二角打     (00:02/00:01:35)
  38 ６二玉(73)   (00:04/00:02:19)
  39 ５四桂打     (00:03/00:01:38)
*▲手筋：ふんどしの桂
  40 ５三玉(62)   (00:01/00:02:20)
  41 ５二桂成(64) (00:14/00:01:52)
  42 ４四玉(53)   (00:04/00:02:24)
  43 ５五角成(82) (00:05/00:01:57)
  44 ３四玉(44)   (00:01/00:02:25)
  45 ４四飛打     (00:29/00:02:26)
  46 ２五玉(34)   (00:02/00:02:27)
  47 ２六歩打     (00:03/00:02:29)
  48 ２六玉(25)   (00:02/00:02:29)
  49 ２七歩打     (00:02/00:02:31)
*▲手筋：連打の歩
  50 ２七玉(26)   (00:06/00:02:35)
*△備考：入玉
  51 ２八歩打     (00:03/00:02:34)
*▲手筋：連打の歩
  52 ３八玉(27)   (00:01/00:02:36)
  53 ４八飛(44)   (00:05/00:02:39)
  54 ４八玉(38)   (00:02/00:02:38)
  55 ５八金(57)   (00:01/00:02:40)
*▲手筋：腹金
  56 ３八玉(48)   (00:02/00:02:40)
  57 ７七馬(55)   (00:02/00:02:42)
  58 ６九飛打     (00:03/00:02:43)
  59 ６八金(58)   (00:02/00:02:44)
  60 １九飛成(69) (00:03/00:02:46)
  61 ６六玉(67)   (00:01/00:02:45)
  62 ２八玉(38)   (00:01/00:02:47)
  63 ５五玉(66)   (00:01/00:02:46)
  64 ２五飛打     (00:01/00:02:48)
  65 ４二成桂(52) (00:02/00:02:48)
  66 ２七飛成(25) (00:01/00:02:49)
  67 ６四玉(55)   (00:01/00:02:49)
  68 ２九玉(28)   (00:01/00:02:50)
  69 ６二桂成(54) (00:02/00:02:51)
  70 ２八玉(29)   (00:01/00:02:51)
  71 ５五馬(77)   (00:01/00:02:52)
  72 ２九玉(28)   (00:00/00:02:51)
  73 ４五馬(55)   (00:02/00:02:54)
  74 ５三角打     (00:01/00:02:52)
  75 ５三玉(64)   (00:01/00:02:55)
*▲備考：入玉
  76 ５二銀打     (00:01/00:02:53)
*△手筋：頭銀
  77 ５二成桂(42) (00:01/00:02:56)
  78 ５二金(61)   (00:00/00:02:53)
*△手筋：頭金
  79 ５二玉(53)   (00:00/00:02:56)
  80 ５一香打     (00:01/00:02:54)
*△手筋：下段の香
  81 ５一玉(52)   (00:01/00:02:57)
  82 １八玉(29)   (00:01/00:02:55)
  83 ６一玉(51)   (00:01/00:02:58)
  84 ２八玉(18)   (00:01/00:02:56)
  85 ７一玉(61)   (00:00/00:02:58)
  86 ３八玉(28)   (00:00/00:02:56)
  87 ７二成桂(62) (00:01/00:02:59)
  88 ３九玉(38)   (00:01/00:02:57)
  89 ８二玉(71)   (00:01/00:03:00)
  90 ４九玉(39)   (00:00/00:02:57)
  91 ９一金(81)   (00:00/00:03:00)
  92 ３九玉(49)   (00:02/00:02:59)
  93 切れ負け
まで92手で時間切れにより後手の勝ち
"

info = Parser.parse(body, turn_max: 0)
puts info.to_sfen
# >> position sfen l2g5/1ks6/1png4p/p1p4b1/3P1+BpN1/P1P1P1+s1P/1P1S5/3K1S+p2/LN5RL b RNL4P2g2p 1
