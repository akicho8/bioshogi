# -*- coding: utf-8 -*-

require_relative "../../../bushido"

module Bushido
  XtraPattern.define do
    [
      {
        :title => Pathname(__FILE__).basename(".*"),
        :dsl => KifuDsl.define do
          board "平手"
          mov "７六歩(77)"
          auto_flushing {
            mov "▲７六歩(77)"
            mov "△３四歩(33)"
            mov "▲２六歩(27)"
            mov "△７四歩(73)"
            mov "▲５八金(49)"
            mov "△８四歩(83)"
            mov "▲７八金(69)"
            mov "△３二金(41)"
            mov "▲２五歩(26)"
            mov "△６二銀(71)"
            mov "▲２四歩(25)"
            mov "△同歩(23)"
            mov "▲同飛(28)"
            mov "△８五歩(84)"
            mov "▲２八飛(24)"
            mov "△２三歩打"
            mov "▲２二角成(88)"
            mov "△同銀(31)"
            mov "▲８八銀(79)"
            mov "△４二王(51)"
            mov "▲７七銀(88)"
            mov "△７三銀(62)"
            mov "▲６六歩(67)"
            mov "△６四銀(73)"
            mov "▲６七金(58)"
            mov "△３三銀(22)"
            mov "▲４八銀(39)"
            mov "△３一王(42)"
            mov "▲５六歩(57)"
            mov "△７五歩(74)"
            mov "▲６五歩(66)"
            mov "△同銀(64)"
            mov "▲７五歩(76)"
            mov "△７六歩打"
            mov "▲６八銀(77)"
            mov "△８六歩(85)"
            mov "▲同歩(87)"
            mov "△４四角打"
            mov "▲５五角打"
            mov "△同角(44)"
            mov "▲同歩(56)"
            mov "△６六角打"
            mov "▲同金(67)"
            mov "△同銀(65)"
            mov "▲２六飛(28)"
            mov "△７五銀(66)"
            mov "▲５四歩(55)"
            mov "△５二金(61)"
            mov "▲５三歩成(54)"
            mov "△同金(52)"
            mov "▲２四歩打"
            mov "△同歩(23)"
            mov "▲７一角打"
            mov "△５二飛(82)"
            mov "▲６一角打"
            mov "△５一飛(52)"
            mov "▲６二角成(71)"
            mov "△６一飛(51)"
            mov "▲同馬(62)"
            mov "△２二王(31)"
            mov "▲５四歩打"
            mov "△同金(53)"
            mov "▲２三歩打"
            mov "△同王(22)"
            mov "▲５一飛打"
            mov "△４四角打"
            mov "▲４六飛(26)"
            mov "△２二金打"
            mov "▲５四飛成(51)"
            mov "△９九角成(44)"
            mov "▲２五歩打"
            mov "△同歩(24)"
            mov "▲４三馬(61)"
            mov "△５五香打"
            mov "▲５六歩打"
            mov "△８九馬(99)"
            mov "▲８八金打"
            mov "△７八馬(89)"
            mov "▲同金(88)"
            mov "△６六桂打"
            mov "▲６七銀(68)"
            mov "△５八歩打"
            mov "▲同銀(67)"
            mov "△７八桂成(66)"
            mov "▲２四歩打"
            mov "△同王(23)"
            mov "▲５五竜(54)"
            mov "△４三金(32)"
            mov "▲同飛成(46)"
            mov "△６八金打"
            mov "▲４九王(59)"
            mov "△２七角打"
            mov "▲３八角打"
            mov "△６六銀(75)"
            mov "▲同竜(55)"
            mov "△４二歩打"
            mov "▲６八竜(66)"
            mov "△４三歩(42)"
            mov "▲７八竜(68)"
            mov "△５四角成(27)"
            mov "▲２八香打"
            mov "△１四歩(13)"
            mov "▲５五金打"
            mov "△５三馬(54)"
            mov "▲７六竜(78)"
            mov "△１三王(24)"
            mov "▲７二竜(76)"
            mov "△７一歩打"
            mov "▲７七竜(72)"
            mov "△８九飛打"
            mov "▲６九歩打"
            mov "△８六飛成(89)"
            mov "▲６八竜(77)"
            mov "△５四歩打"
            mov "▲４五金(55)"
            mov "△７三桂(81)"
            mov "▲１六歩(17)"
            mov "△１二王(13)"
            mov "▲１七桂(29)"
            mov "△２六歩(25)"
            mov "▲１五歩(16)"
            mov "△同歩(14)"
            mov "▲２五桂打"
            mov "△２三金打"
            mov "▲３六金打"
            mov "△４四歩(43)"
            mov "▲４六金(45)"
            mov "△２四銀(33)"
            mov "▲２六香(28)"
            mov "△３二金(22)"
            mov "▲７四歩打"
            mov "△８五桂(73)"
            mov "▲７三歩成(74)"
            mov "△６四歩(63)"
            mov "▲７四と(73)"
            mov "△７七桂成(85)"
            mov "▲５七竜(68)"
            mov "△４二馬(53)"
            mov "▲５五歩(56)"
            mov "△３五歩(34)"
            mov "▲５四歩(55)"
            mov "△５六歩打"
            mov "▲同金(46)"
            mov "△３六歩(35)"
            mov "▲同歩(37)"
            mov "△２七歩打"
            mov "▲２九歩打"
            mov "△１六歩(15)"
            mov "▲６三と(74)"
            mov "△５二歩打"
            mov "▲４六歩(47)"
            mov "△１五銀(24)"
            mov "▲５三歩成(54)"
            mov "△同歩(52)"
            mov "▲同と(63)"
            mov "△同馬(42)"
            mov "▲１四歩打"
            mov "△２六銀(15)"
            mov "▲４五金(56)"
            mov "△５一香打"
            mov "▲１三銀打"
            mov "△同桂(21)"
            mov "▲同歩成(14)"
            mov "△同金(23)"
            mov "▲３四金(45)"
            mov "△４二馬(53)"
            mov "▲５二歩打"
            mov "△同香(51)"
            mov "▲５三歩打"
            mov "△同香(52)"
            mov "▲１三桂成(25)"
            mov "△同王(12)"
            mov "▲２五桂(17)"
            mov "△１四王(13)"
            mov "▲５三竜(57)"
            mov "△３七桂打"
            mov "▲同銀(48)"
            mov "△同銀(26)"
            mov "▲１三桂成(25)"
            mov "△同香(11)"
            mov "▲２四金打"
            mov "△同馬(42)"
            mov "▲同金(34)"
            mov "△同王(14)"
          }
        end,
      },
    ]
  end

  if $0 == __FILE__
    # XtraPattern.each{|pattern|HybridSequencer.execute(pattern)}
    HybridSequencer.execute(XtraPattern.list.last).each{|frame|
      puts frame.to_text
    }
  end
end
