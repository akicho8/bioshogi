# frozen-string-literal: true

module Bushido
  class ShapeInfo
    include ApplicationMemoryRecord
    memory_record [
      # DESC: 手合割

      {
        key: "平手",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ 角 ・ ・ ・ ・ ・ 飛 ・|八
| 香 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "香落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ 角 ・ ・ ・ ・ ・ 飛 ・|八
| ・ 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "右香落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ 角 ・ ・ ・ ・ ・ 飛 ・|八
| 香 桂 銀 金 玉 金 銀 桂 ・|九
+---------------------------+
EOT
      },
      {
        key: "角落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ 飛 ・|八
| 香 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "飛車落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ 角 ・ ・ ・ ・ ・ ・ ・|八
| 香 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "飛車香落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ 角 ・ ・ ・ ・ ・ ・ ・|八
| ・ 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "二枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| 香 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "三枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| ・ 桂 銀 金 玉 金 銀 桂 香|九
+---------------------------+
EOT
      },
      {
        key: "四枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| ・ 桂 銀 金 玉 金 銀 桂 ・|九
+---------------------------+
EOT
      },
      {
        key: "六枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| ・ ・ 銀 金 玉 金 銀 ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "八枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ 金 玉 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "十枚落ち",
        board_body: <<~EOT,
+---------------------------+
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|七
| ・ ・ ・ ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ 玉 ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "十九枚落ち",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ 玉 ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "二十枚落ち",
        board_body: <<~EOT,
+---------------------------+
+---------------------------+
EOT
      },

      # DESC: 囲い

      {
        key: "金矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 金 ・ ・ ・ ・ ・|七
| ・ 玉 金 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },

      {
        key: "カニ囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 歩 歩 歩 ・ ・ ・ ・|六
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ 金 銀 金 ・ ・ ・ ・|八
| ・ ・ ・ 玉 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },

      {
        key: "銀矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 銀 ・ ・ ・ ・ ・|七
| ・ 玉 金 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "片矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 金 ・ ・ ・ ・ ・|七
| ・ ・ 玉 金 ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "総矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 金 銀 ・ ・ ・ ・|七
| ・ 玉 金 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "矢倉穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 金 ・ ・ ・ ・ ・|七
| 香 ・ 金 ・ ・ ・ ・ ・ ・|八
| 玉 ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "菊水穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ 金 ・ ・ ・ ・ ・|七
| ・ 銀 金 ・ ・ ・ ・ ・ ・|八
| 香 玉 ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "銀立ち矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 ・ ・ ・ ・ ・ ・|六
| ・ ・ ・ 金 ・ ・ ・ ・ ・|七
| ・ 玉 金 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "菱矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ 銀 ・ ・ ・ ・ ・|六
| ・ ・ 銀 金 ・ ・ ・ ・ ・|七
| ・ 玉 金 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "雁木囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ 銀 銀 ・ ・ ・ ・|七
| ・ ・ 金 ・ 金 ・ ・ ・ ・|八
| ・ ・ ・ 玉 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "ボナンザ囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 銀 ・ ・ ・ ・ ・ ・|七
| ・ ・ 玉 金 金 ・ ・ ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "美濃囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ 歩 ・|七
| ・ ・ ・ ・ 金 ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "高美濃囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ 金 ・ 歩 ・|七
| ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "銀冠",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ 金 ・|七
| ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "銀美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ 銀 ・ ・ ・|七
| ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "ダイヤモンド美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ 銀 ・ ・ ・|七
| ・ ・ ・ ・ 金 ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "木村美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ 銀 ・ ・ ・|七
| ・ ・ ・ ・ ・ ・ 金 玉 ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "片美濃囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ 歩 ・|七
| ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "ちょんまげ美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ 歩 ・|六
| ・ ・ ・ ・ ・ ・ 歩 ・ ・|七
| ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
| ・ ・ ・ ・ ・ 金 ・ ・ ・|九
+---------------------------+
EOT
      },
      #   {
      #     key: "坊主美濃",
      #     board_body: <<~EOT,
      # +---------------------------+
      # | ・ ・ ・ ・ ・ ・ ・ ・ ・|五
      # | ・ ・ ・ ・ ・ ・ ・ ・ ・|六
      # | ・ ・ ・ ・ ・ ・ 歩 ・ ・|七
      # | ・ ・ ・ ・ ・ ・ 銀 玉 ・|八
      # | ・ ・ ・ ・ ・ 金 ・ ・ ・|九
      # +---------------------------+
      # EOT
      #   },
      {
        key: "左美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ 玉 銀 ・ 金 ・ ・ ・ ・|八
| ・ ・ ・ 金 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "天守閣美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 歩 ・ ・ ・ ・ ・ ・|六
| ・ 玉 ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ 銀 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ 金 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "四枚美濃",
        board_body: <<~EOT,
+---------------------------+
| ・ 玉 銀 金 ・ ・ ・ ・ ・|七
| ・ ・ 銀 ・ ・ ・ ・ ・ ・|八
| ・ ・ ・ 金 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "舟囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 歩 ・ 歩 ・ ・ ・ ・|六
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ 玉 ・ 金 銀 ・ ・ ・|八
| ・ ・ 銀 金 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "居飛車穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| 香 銀 ・ ・ ・ ・ ・ ・ ・|八
| 玉 桂 金 ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "松尾流穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ 金 ・ ・ ・ ・ ・|七
| 香 銀 金 ・ ・ ・ ・ ・ ・|八
| 玉 桂 銀 ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "銀冠穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 歩 ・ ・ ・ ・ ・ ・|六
| ・ 銀 ・ ・ ・ ・ ・ ・ ・|七
| 香 ・ 金 ・ ・ ・ ・ ・ ・|八
| 玉 桂 ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "ビッグ４",
        board_body: <<~EOT,
+---------------------------+
| ・ 銀 銀 ・ ・ ・ ・ ・ ・|七
| 香 金 金 ・ ・ ・ ・ ・ ・|八
| 玉 桂 ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "箱入り娘",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 玉 金 ・ ・ ・ ・ ・|八
| ・ ・ 銀 金 ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "ミレニアム囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ 銀 ・ ・ ・ ・ ・ ・ ・|八
| ・ 玉 金 ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "振り飛車穴熊",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ 銀 香|八
| ・ ・ ・ ・ ・ ・ 金 桂 玉|九
+---------------------------+
EOT
      },
      {
        key: "右矢倉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ 銀 ・ ・|七
| ・ ・ ・ ・ ・ ・ 金 玉 ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "金無双",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ ・ ・ 金 金 玉 銀 ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "中住まい",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ 金 ・ 玉 銀 金 ・ ・|八
| ・ ・ ・ ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "中原玉",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ 銀 金 ・ ・ 銀 ・ ・ ・|八
| ・ ・ ・ 玉 金 ・ ・ ・ ・|九
+---------------------------+
EOT
      },
      {
        key: "アヒル囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ ・ 銀 玉 銀 ・ ・ ・|八
| ・ ・ 金 ・ ・ ・ 金 ・ ・|九
+---------------------------+
EOT
      },

      {
        key: "いちご囲い",
        board_body: <<~EOT,
+---------------------------+
| ・ ・ 歩 ・ ・ ・ ・ ・ ・|六
| ・ ・ ・ ・ ・ ・ ・ ・ ・|七
| ・ ・ 金 玉 金 ・ ・ ・ ・|八
| ・ ・ 銀 ・ ・ ・ ・ ・ ・|九
+---------------------------+
EOT
      },

      # DESC: 戦法

      {
        key: "新米長玉",
        board_body: <<~EOT,
+---------------------------+
|v香v桂v銀v金v玉v金v銀v桂v香|
| ・v飛 ・ ・ ・ ・ ・v角 ・|
|v歩v歩v歩v歩v歩v歩 ・v歩v歩|
| ・ ・ ・ ・ ・ ・v歩 ・ ・|
| ・ ・ ・ ・ ・ ・ ・ ・ ・|
| ・ ・ ・ ・ ・ ・ ・ ・ ・|
| 歩 歩 歩 歩 歩 歩 歩 歩 歩|
| ・ 角 ・ ・ ・ 玉 ・ 飛 ・|
| 香 桂 銀 金 ・ 金 銀 桂 香|
+---------------------------+
EOT
      },
    ]

    def board_parser
      @board_parser ||= BoardParser::KifBoardParser2.parse(board_body)
    end

    def both_board_info
      @both_board_info ||= board_parser.both_board_info
    end

    def sorted_black_side_mini_soldiers
      @sorted_black_side_mini_soldiers ||= black_side_mini_soldiers.sort
    end

    def black_side_mini_soldiers
      @black_side_mini_soldiers ||= both_board_info[Location[:black]]
    end

    def sorted_mini_soldiers
      @sorted_mini_soldiers ||= board_parser.mini_soldiers.sort
    end
  end
end
