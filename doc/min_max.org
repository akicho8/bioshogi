#+OPTIONS: toc:nil num:nil author:nil creator:nil \n:nil |:t
#+OPTIONS: @:t ::t ^:t -:t f:t *:t <:t

* MiniMaxアルゴリズム

▲７四歩 ▲２六歩 ▲２五歩から、先手には次の二つの手があるとする

B1 (２四歩)
B2 (７七角成)

普通に考えると７七角成は一歩取れるけど直後に角が取られるので人間は選択しない。
でも1手先が読めないCOMは７七角成してしまう。
これをどうするか？

まず今までの0手先しか読めないアルゴリズムを確認すると
仮に現状を100点として

２四歩   → 100点 (とくに何も変わらず)
７七角成 → 130点 (歩を取る＆成りで大成功！)

となって、130点の方を選ぶので、７七角成になる

そこで評価は一旦保留して、とりあえず打ってみてから、相手に手番を渡してみることにする

(自分)   (相手)
２四歩   同歩    90点  (歩が取られたので-10点)
         ３二金 100点  (金が寄ってきたけどとくにかわらず)
７七角成 同角    20点  (大事な角を取られたので-80点)
         ３二金 130点  (金が寄ってきたけどとくにかわらず)

相手は本気でやってくると仮定しているので「点の低い方」つまり最悪の方を選ぶ。すると、

２四歩   90点
７七角成 20点

となって、７七角成は一手先には20点になってしまうからダメージの少なかった、つまり0手先では「点の高い方」の２四歩を選ぶ方がいいとわかる

** さらに2手先まで読んでみる

(自分)   (相手)   (自分)
７七角成 同角     ５二金(999点) (なんと、角をとったら王手がかかった！。ハメ技だったと仮定。後手側ピンチの状態)
                  ５八金( 21点) (やることがないので守りをかためた)
         ３二金   ５八金(131点) (とりあえず馬ができたし、守りをかためよう)

この場合、1手先の"相手"の評価は"自分"の中から「点の高い方」を選ぶと、

７七角成 同角     → 999点
         ３二金   → 131点

になって1手先を読んだ状態になり、相手の評価からは「低い方を選ぶ」ので、

２四歩    90点
７七角成 131点

となり、前と違って「７七角成」を選択するようになる

** NegaMaxアルゴリズム
