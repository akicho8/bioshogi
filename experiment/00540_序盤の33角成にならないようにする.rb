require "./setup"

container = Container::Basic.new
container.placement_from_bod(<<~EOT)
後手の持駒：
+---------------------------+
|v香v桂v銀v金v玉v金v銀v桂v香|
| ・v飛 ・ ・ ・ ・ ・v角 ・|
|v歩v歩v歩v歩v歩v歩v歩v歩v歩|
| ・ ・ ・ ・ ・ ・ ・ ・ ・|
| ・ ・ ・ ・ ・ ・ ・ ・ ・|
| ・ ・ 歩 ・ ・ ・ ・ ・ ・|
| 歩 歩 ・ 歩 歩 歩 歩 歩 歩|
| ・ 角 ・ ・ ・ ・ ・ 飛 ・|
| 香 桂 銀 金 玉 金 銀 桂 香|
+---------------------------+
先手の持駒：

手数=3
EOT

# opening_score の if !e.promoted をはずして33の地点をマイナスすれば回避できるけどやめとく
records = container.player_at(:black).brain(evaluator_class: Evaluator::Level4).iterative_deepening(depth_max_range: 0..0)
tp Ai::Brain.human_format(records)
# >> |------+----------------+--------+--------+------------+----------|
# >> | 順位 | 候補手         | 読み筋 | ▲形勢 | 評価局面数 | 処理時間 |
# >> |------+----------------+--------+--------+------------+----------|
# >> |    1 | ▲３三角成(88) |        |    495 |          1 | 0.000843 |
# >> |    2 | ▲７八飛(28)   |        |    180 |          1 | 0.000699 |
# >> |    3 | ▲６八飛(28)   |        |    180 |          1 | 0.000834 |
# >> |    4 | ▲５八飛(28)   |        |    180 |          1 | 0.000705 |
# >> |    5 | ▲４八玉(59)   |        |    100 |          1 | 0.000679 |
# >> |    6 | ▲３八銀(39)   |        |     96 |          1 | 0.000777 |
# >> |    7 | ▲７八金(69)   |        |     95 |          1 | 0.000747 |
# >> |    8 | ▲５八金(69)   |        |     95 |          1 | 0.000749 |
# >> |    9 | ▲５六歩(57)   |        |     95 |          1 | 0.000969 |
# >> |   10 | ▲１六歩(17)   |        |     95 |          1 | 0.000697 |
# >> |   11 | ▲９六歩(97)   |        |     95 |          1 | 0.000995 |
# >> |   12 | ▲６六歩(67)   |        |     95 |          1 | 0.001575 |
# >> |   13 | ▲７八銀(79)   |        |     94 |          1 | 0.000887 |
# >> |   14 | ▲６八銀(79)   |        |     94 |          1 |  0.00092 |
# >> |   15 | ▲７七角(88)   |        |     92 |          1 | 0.000695 |
# >> |   16 | ▲４八銀(39)   |        |     91 |          1 | 0.000816 |
# >> |   17 | ▲５八玉(59)   |        |     90 |          1 | 0.000684 |
# >> |   18 | ▲６八玉(59)   |        |     90 |          1 | 0.000724 |
# >> |   19 | ▲１八飛(28)   |        |     90 |          1 | 0.000695 |
# >> |   20 | ▲６八金(69)   |        |     90 |          1 | 0.000748 |
# >> |   21 | ▲６六角(88)   |        |     90 |          1 | 0.001021 |
# >> |   22 | ▲４四角(88)   |        |     90 |          1 | 0.000809 |
# >> |   23 | ▲５五角(88)   |        |     90 |          1 | 0.000831 |
# >> |   24 | ▲３八飛(28)   |        |     90 |          1 | 0.000838 |
# >> |   25 | ▲４八飛(28)   |        |     90 |          1 | 0.000975 |
# >> |   26 | ▲５八金(49)   |        |     90 |          1 | 0.001134 |
# >> |   27 | ▲１八香(19)   |        |     89 |          1 | 0.000703 |
# >> |   28 | ▲８六歩(87)   |        |     89 |          1 |  0.00073 |
# >> |   29 | ▲４六歩(47)   |        |     89 |          1 | 0.000752 |
# >> |   30 | ▲３六歩(37)   |        |     89 |          1 | 0.000704 |
# >> |   31 | ▲２六歩(27)   |        |     89 |          1 | 0.000683 |
# >> |   32 | ▲９八香(99)   |        |     89 |          1 | 0.000692 |
# >> |   33 | ▲７七桂(89)   |        |     89 |          1 | 0.000737 |
# >> |   34 | ▲３八金(49)   |        |     85 |          1 | 0.000915 |
# >> |   35 | ▲４八金(49)   |        |     84 |          1 | 0.000889 |
# >> |   36 | ▲７五歩(76)   |        |      0 |          1 | 0.001057 |
# >> |   37 | ▲３三角(88)   |        | -49695 |          1 | 0.000844 |
# >> |------+----------------+--------+--------+------------+----------|
