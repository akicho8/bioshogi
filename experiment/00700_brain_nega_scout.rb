require "./example_helper"

Bioshogi.logger = ActiveSupport::Logger.new(STDOUT)

Board.promotable_disable
Board.dimensiton_change([2, 5])

mediator = Mediator.new
mediator.board.placement_from_shape <<~EOT
+------+
| ・v香|
| ・v飛|
| ・v歩|
| ・ 飛|
| ・ 香|
+------+
EOT

brain = mediator.player_at(:black).brain(diver_class: NegaScoutDiver)
brain.diver_dive(depth_max: 0) # => [-100, []]
brain.diver_dive(depth_max: 1) # => [105, [<▲１三飛(14)>]]
brain.diver_dive(depth_max: 2) # => [-100, [<▲２四飛(14)>, <△２二飛(12)>]]
brain.diver_dive(depth_max: 3) # => [105, [<▲１三飛(14)>, <△１三飛(12)>, <▲１三香(15)>]]
brain.diver_dive(depth_max: 4) # => [-100, [<▲２四飛(14)>, <△１四歩(13)>, <▲２三飛(24)>, <△１三飛(12)>]]
# >>     0 ▲ -100
# >>     0 ▲ ▲１三飛(14)
# >>     1 △     -105
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     +100
# >>     0 ▲ ★確 ▲１三飛(14)
# >>     0 ▲ ▲１三飛(14)
# >>     1 △     △１三飛(12)
# >>     2 ▲         -3995
# >>     1 △     △２二飛(12)
# >>     2 ▲         +105
# >>     1 △     ★確 △１三飛(12)
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     △２二飛(12)
# >>     2 ▲         -100
# >>     1 △     △１四歩(13)
# >>     2 ▲         -100
# >>     1 △     ★確 △２二飛(12)
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     △２二飛(12)
# >>     2 ▲         -100
# >>     0 ▲ ★確 ▲２四飛(14)
# >>     0 ▲ ▲１三飛(14)
# >>     1 △     △１三飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             +3995
# >>     2 ▲         ▲１三香(15)
# >>     3 △             -105
# >>     2 ▲         ▲１三香(15)
# >>     3 △             -105
# >>     2 ▲         ▲２二歩打
# >>     3 △             +4000
# >>     2 ▲         ▲１二歩打
# >>     3 △             +4000
# >>     2 ▲         ▲２三歩打
# >>     3 △             +4000
# >>     2 ▲         ▲２四歩打
# >>     3 △             +4000
# >>     2 ▲         ▲１四歩打
# >>     3 △             +4000
# >>     2 ▲         ▲２五歩打
# >>     3 △             +4000
# >>     2 ▲         ★確 ▲１三香(15)
# >>     1 △     △２二飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             -105
# >>     1 △     ★確 △１三飛(12)
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     △２二飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             +100
# >>     2 ▲         ▲１三香(15)
# >>     3 △             -105
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             +100
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             -4000
# >>     1 △     △１四歩(13)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             -105
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             +100
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             +100
# >>     2 ▲         ▲２一飛(24)
# >>     3 △             +100
# >>     2 ▲         ▲１四飛(24)
# >>     3 △             -105
# >>     2 ▲         ▲２五飛(24)
# >>     3 △             +100
# >>     2 ▲         ★確 ▲１四香(15)
# >>     0 ▲ ★確 ▲１三飛(14)
# >>     0 ▲ ▲１三飛(14)
# >>     1 △     △１三飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -3995
# >>     3 △             △１四飛(13)
# >>     4 ▲                 -5225
# >>     3 △             △１四飛(13)
# >>     4 ▲                 -5225
# >>     3 △             △２三飛(13)
# >>     4 ▲                 -3995
# >>     3 △             △１二飛(13)
# >>     4 ▲                 -3995
# >>     3 △             △２一飛打
# >>     4 ▲                 -3895
# >>     3 △             △２二飛打
# >>     4 ▲                 -3895
# >>     3 △             △１二飛打
# >>     4 ▲                 -3895
# >>     3 △             △２三飛打
# >>     4 ▲                 -3895
# >>     3 △             △２四飛打
# >>     4 ▲                 -3895
# >>     3 △             △２五飛打
# >>     4 ▲                 -3895
# >>     3 △             △１五飛打
# >>     4 ▲                 -3895
# >>     3 △             ★確 △１四飛(13)
# >>     2 ▲         ▲１三香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 +105
# >>     3 △             △１三香(11)
# >>     4 ▲                 -1125
# >>     3 △             △２一飛打
# >>     4 ▲                 +205
# >>     3 △             △２二飛打
# >>     4 ▲                 +205
# >>     3 △             △１二飛打
# >>     4 ▲                 +205
# >>     3 △             △２三飛打
# >>     4 ▲                 +205
# >>     3 △             △２四飛打
# >>     4 ▲                 +205
# >>     3 △             △１四飛打
# >>     4 ▲                 +205
# >>     3 △             △２五飛打
# >>     4 ▲                 +205
# >>     3 △             △１五飛打
# >>     4 ▲                 +205
# >>     3 △             ★確 △１三香(11)
# >>     2 ▲         ▲１三香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 +105
# >>     3 △             △１三香(11)
# >>     4 ▲                 -1125
# >>     2 ▲         ▲２二歩打
# >>     3 △             △１二香(11)
# >>     4 ▲                 -4000
# >>     2 ▲         ▲１二歩打
# >>     3 △             △１四飛(13)
# >>     4 ▲                 -4000
# >>     2 ▲         ▲２三歩打
# >>     3 △             △１二香(11)
# >>     4 ▲                 -4000
# >>     2 ▲         ▲２四歩打
# >>     3 △             △１四飛(13)
# >>     4 ▲                 -4000
# >>     2 ▲         ▲１四歩打
# >>     3 △             △１二香(11)
# >>     4 ▲                 -4000
# >>     2 ▲         ▲２五歩打
# >>     3 △             △１四飛(13)
# >>     4 ▲                 -4000
# >>     2 ▲         ★確 ▲１三香(15)
# >>     1 △     △２二飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 +105
# >>     3 △             △１三香(11)
# >>     4 ▲                 -3995
# >>     2 ▲         ▲１二飛(13)
# >>     3 △             △２三飛(22)
# >>     4 ▲                 +105
# >>     3 △             △２四飛(22)
# >>     4 ▲                 +105
# >>     3 △             △２五飛(22)
# >>     4 ▲                 +105
# >>     3 △             △１二飛(22)
# >>     4 ▲                 -3995
# >>     2 ▲         ▲１一飛(13)
# >>     3 △             △２三飛(22)
# >>     4 ▲                 +1335
# >>     3 △             △２四飛(22)
# >>     4 ▲                 +1335
# >>     3 △             △２五飛(22)
# >>     4 ▲                 +1335
# >>     3 △             △１二飛(22)
# >>     4 ▲                 +1335
# >>     3 △             △２一飛(22)
# >>     4 ▲                 +1335
# >>     3 △             ★確 △２三飛(22)
# >>     1 △     ★確 △１三飛(12)
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     △２二飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -100
# >>     3 △             △１四歩(13)
# >>     4 ▲                 -1330
# >>     2 ▲         ▲１三香(15)
# >>     3 △             △２三飛(22)
# >>     4 ▲                 +105
# >>     3 △             △２四飛(22)
# >>     4 ▲                 -3995
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -100
# >>     3 △             △２三飛(22)
# >>     4 ▲                 -4200
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             △１四歩(13)
# >>     4 ▲                 +4000
# >>     3 △             △１二香(11)
# >>     4 ▲                 +4000
# >>     3 △             ★確 △１四歩(13)
# >>     1 △     △１四歩(13)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 +105
# >>     3 △             △１四飛(12)
# >>     4 ▲                 -1125
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     3 △             △２二飛(12)
# >>     4 ▲                 -100
# >>     3 △             ★確 △１三飛(12)
# >>     1 △     ★確 △１四歩(13)
# >>     0 ▲ ▲２四飛(14)
# >>     1 △     △２二飛(12)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -100
# >>     2 ▲         ▲１三香(15)
# >>     3 △             △２三飛(22)
# >>     4 ▲                 +105
# >>     3 △             △２四飛(22)
# >>     4 ▲                 -3995
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             △１四歩(13)
# >>     4 ▲                 +4000
# >>     3 △             △１二香(11)
# >>     4 ▲                 +4000
# >>     3 △             ★確 △１四歩(13)
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             △１四歩(13)
# >>     4 ▲                 +4000
# >>     2 ▲         ▲１四飛(24)
# >>     3 △             △１二香(11)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２五飛(24)
# >>     3 △             △１四歩(13)
# >>     4 ▲                 -100
# >>     2 ▲         ★確 ▲２二飛(24)
# >>     1 △     △１四歩(13)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 +105
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２一飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲１四飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 +105
# >>     2 ▲         ▲２五飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ★確 ▲１四香(15)
# >>     1 △     △１四歩(13)
# >>     2 ▲         ▲１四香(15)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 +105
# >>     3 △             △１四飛(12)
# >>     4 ▲                 -1125
# >>     2 ▲         ▲２三飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２二飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲２一飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ▲１四飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 +105
# >>     3 △             △１四飛(12)
# >>     4 ▲                 -3995
# >>     2 ▲         ▲２五飛(24)
# >>     3 △             △１三飛(12)
# >>     4 ▲                 -100
# >>     2 ▲         ★確 ▲２三飛(24)
# >>     0 ▲ ★確 ▲２四飛(14)
