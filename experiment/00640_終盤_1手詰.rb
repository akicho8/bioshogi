require "./example_helper"

# Board.logger = ActiveSupport::Logger.new(STDOUT)
Board.dimensiton_change([2, 4]) do
  mediator = Mediator.new
  mediator.placement_from_bod <<~EOT
後手の持駒：
+------+
|v香v玉|
|v歩 ・|
| ・ ・|
| 桂 玉|
+------+
先手の持駒：金
手数＝0
EOT
  [
    Diver::NegaAlphaDiver,
    Diver::NegaScoutDiver,
  ].each do |diver_class|
    brain = mediator.current_player.brain(diver_class: diver_class) # Diver::NegaAlphaDiver
    records = brain.iterative_deepening(depth_max_range: 3..3)
    tp Brain.human_format(records)
  end
end
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
# >> | 順位 | 候補手         | 読み筋                                     | ▲形勢  | 評価局面数 | 処理時間 |
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
# >> |    1 | ▲１二金打     | (詰み)                                     |  999999 |          0 | 0.000345 |
# >> |    2 | ▲１二桂成(24) | △１二玉(11) ▲１三金打 △１一玉(12)       |    -235 |          7 | 0.004703 |
# >> |    3 | ▲１三金打     | △２三歩成(22) ▲２三金(13) △２三香成(21) |   -1655 |          2 |  0.00179 |
# >> |    4 | ▲１三玉(14)   | △２三歩成(22) (詰み)                      | -999998 |          0 | 0.001391 |
# >> |    5 | ▲２三金打     | △２三歩成(22) (詰み)                      | -999998 |          0 | 0.000817 |
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
# >> | 順位 | 候補手         | 読み筋                                     | ▲形勢  | 評価局面数 | 処理時間 |
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
# >> |    1 | ▲１二金打     | (詰み)                                     |  999999 |          0 | 0.002651 |
# >> |    2 | ▲１二桂成(24) | △１二玉(11) ▲１三金打 △１一玉(12)       |    -235 |          8 | 0.005585 |
# >> |    3 | ▲１三金打     | △２三歩成(22) ▲２三金(13) △２三香成(21) |   -1655 |          3 | 0.001846 |
# >> |    4 | ▲１三玉(14)   | △２三歩成(22) (詰み)                      | -999998 |          0 | 0.001581 |
# >> |    5 | ▲２三金打     | △２三歩成(22) (詰み)                      | -999998 |          0 | 0.000842 |
# >> |------+----------------+--------------------------------------------+---------+------------+----------|
