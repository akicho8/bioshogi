require "./setup"

parser = Parser.parse(<<~EOT)
▲７六歩    △３四歩    ▲２六歩    △３二金    ▲７八金    △８四歩
▲２五歩    △８五歩    ▲２四歩    △同　歩    ▲同　飛    △８六歩
▲同　歩    △同　飛    ▲３四飛    △３三角    ▲３六飛    △４一玉
▲８七歩    △８五飛    ▲２六飛    △２二銀    ▲６八玉    △６二銀
▲３八銀    △５一金    ▲３六歩    △７四歩    ▲３五歩    △７三桂
▲３三角成  △同　桂    ▲３四歩    △４五桂    ▲３三歩成  △５七桂成
▲同　玉    △３五角    ▲５八玉    △２六角    ▲３二と    △同　玉
▲６六角    △４四角    ▲同　角    △同　歩    ▲６八銀    △２八歩
▲３七桂    △３六歩    ▲３四角    △３三玉    ▲１六角    △３七歩成
▲３四金    △３二玉    ▲３三歩    △同　銀    ▲２四桂    △同　銀
▲同　金    △４一玉    ▲３七銀    △１五角    ▲３三歩    △３一歩
▲２三金    △２五桂    ▲２六銀打  △３七桂成  ▲１五銀    △４二金
▲２四角    △２五桂    ▲３二歩成  △同　歩    ▲３三歩    △同　歩
▲同　金    △同　金    ▲同角成    △４二金    ▲２四馬    △８八歩
▲２五角    △同　飛    ▲３四桂    △２四飛    ▲同　銀    △４七成桂
▲６九玉    △８九歩成  ▲４二桂成  △同　玉    ▲２二飛    △４三玉
▲３二飛成  △５四玉    ▲５五金    △同　玉    ▲５六歩    △同　玉
▲３六龍    △６五玉    ▲４七龍    △１四角    ▲３六桂    △５四角
▲５八龍    △７五歩
まで110手で後手の勝ち
EOT

hand_logs = parser.mediator.hand_logs
hand_logs.each do |e|
  p e.to_ki2(place_format: :hankaku_number, separator: " ", same_suffix: " ", char_type: :formal_sheet)
  p e.to_kif
end
# >> "76 歩"
# >> "７六歩(77)"
# >> "34 歩"
# >> "３四歩(33)"
# >> "26 歩"
# >> "２六歩(27)"
# >> "32 金"
# >> "３二金(41)"
# >> "78 金"
# >> "７八金(69)"
# >> "84 歩"
# >> "８四歩(83)"
# >> "25 歩"
# >> "２五歩(26)"
# >> "85 歩"
# >> "８五歩(84)"
# >> "24 歩"
# >> "２四歩(25)"
# >> "同 歩"
# >> "２四歩(23)"
# >> "同 飛"
# >> "２四飛(28)"
# >> "86 歩"
# >> "８六歩(85)"
# >> "同 歩"
# >> "８六歩(87)"
# >> "同 飛"
# >> "８六飛(82)"
# >> "34 飛"
# >> "３四飛(24)"
# >> "33 角"
# >> "３三角(22)"
# >> "36 飛"
# >> "３六飛(34)"
# >> "41 玉"
# >> "４一玉(51)"
# >> "87 歩"
# >> "８七歩打"
# >> "85 飛"
# >> "８五飛(86)"
# >> "26 飛"
# >> "２六飛(36)"
# >> "22 銀"
# >> "２二銀(31)"
# >> "68 玉"
# >> "６八玉(59)"
# >> "62 銀"
# >> "６二銀(71)"
# >> "38 銀"
# >> "３八銀(39)"
# >> "51 金"
# >> "５一金(61)"
# >> "36 歩"
# >> "３六歩(37)"
# >> "74 歩"
# >> "７四歩(73)"
# >> "35 歩"
# >> "３五歩(36)"
# >> "73 桂"
# >> "７三桂(81)"
# >> "33角成"
# >> "３三角成(88)"
# >> "同 桂"
# >> "３三桂(21)"
# >> "34 歩"
# >> "３四歩(35)"
# >> "45 桂"
# >> "４五桂(33)"
# >> "33歩成"
# >> "３三歩成(34)"
# >> "57桂成"
# >> "５七桂成(45)"
# >> "同 玉"
# >> "５七玉(68)"
# >> "35 角"
# >> "３五角打"
# >> "58 玉"
# >> "５八玉(57)"
# >> "26 角"
# >> "２六角(35)"
# >> "32 と"
# >> "３二と(33)"
# >> "同 玉"
# >> "３二玉(41)"
# >> "66 角"
# >> "６六角打"
# >> "44 角"
# >> "４四角(26)"
# >> "同 角"
# >> "４四角(66)"
# >> "同 歩"
# >> "４四歩(43)"
# >> "68 銀"
# >> "６八銀(79)"
# >> "28 歩"
# >> "２八歩打"
# >> "37 桂"
# >> "３七桂(29)"
# >> "36 歩"
# >> "３六歩打"
# >> "34 角"
# >> "３四角打"
# >> "33 玉"
# >> "３三玉(32)"
# >> "16 角"
# >> "１六角(34)"
# >> "37歩成"
# >> "３七歩成(36)"
# >> "34 金"
# >> "３四金打"
# >> "32 玉"
# >> "３二玉(33)"
# >> "33 歩"
# >> "３三歩打"
# >> "同 銀"
# >> "３三銀(22)"
# >> "24 桂"
# >> "２四桂打"
# >> "同 銀"
# >> "２四銀(33)"
# >> "同 金"
# >> "２四金(34)"
# >> "41 玉"
# >> "４一玉(32)"
# >> "37 銀"
# >> "３七銀(38)"
# >> "15 角"
# >> "１五角打"
# >> "33 歩"
# >> "３三歩打"
# >> "31 歩"
# >> "３一歩打"
# >> "23 金"
# >> "２三金(24)"
# >> "25 桂"
# >> "２五桂打"
# >> "26銀打"
# >> "２六銀打"
# >> "37桂成"
# >> "３七桂成(25)"
# >> "15 銀"
# >> "１五銀(26)"
# >> "42 金"
# >> "４二金(51)"
# >> "24 角"
# >> "２四角打"
# >> "25 桂"
# >> "２五桂打"
# >> "32歩成"
# >> "３二歩成(33)"
# >> "同 歩"
# >> "３二歩(31)"
# >> "33 歩"
# >> "３三歩打"
# >> "同 歩"
# >> "３三歩(32)"
# >> "同 金"
# >> "３三金(23)"
# >> "同 金"
# >> "３三金(42)"
# >> "同角成"
# >> "３三角成(24)"
# >> "42 金"
# >> "４二金打"
# >> "24 馬"
# >> "２四馬(33)"
# >> "88 歩"
# >> "８八歩打"
# >> "25 角"
# >> "２五角(16)"
# >> "同 飛"
# >> "２五飛(85)"
# >> "34 桂"
# >> "３四桂打"
# >> "24 飛"
# >> "２四飛(25)"
# >> "同 銀"
# >> "２四銀(15)"
# >> "47成桂"
# >> "４七成桂(37)"
# >> "69 玉"
# >> "６九玉(58)"
# >> "89歩成"
# >> "８九歩成(88)"
# >> "42桂成"
# >> "４二桂成(34)"
# >> "同 玉"
# >> "４二玉(41)"
# >> "22 飛"
# >> "２二飛打"
# >> "43 玉"
# >> "４三玉(42)"
# >> "32飛成"
# >> "３二飛成(22)"
# >> "54 玉"
# >> "５四玉(43)"
# >> "55 金"
# >> "５五金打"
# >> "同 玉"
# >> "５五玉(54)"
# >> "56 歩"
# >> "５六歩打"
# >> "同 玉"
# >> "５六玉(55)"
# >> "36 龍"
# >> "３六龍(32)"
# >> "65 玉"
# >> "６五玉(56)"
# >> "47 龍"
# >> "４七龍(36)"
# >> "14 角"
# >> "１四角打"
# >> "36 桂"
# >> "３六桂打"
# >> "54 角"
# >> "５四角打"
# >> "58 龍"
# >> "５八龍(47)"
# >> "75 歩"
# >> "７五歩(74)"
