require "../setup"

kif_str = "
手数----指手---------消費時間--
   1 ２六歩(27)   (00:06/00:00:06)
*▲備考：居飛車
   2 ３四歩(33)   (00:01/00:00:01)
   3 ２五歩(26)   (00:02/00:00:08)
   4 ３三角(22)   (00:01/00:00:02)
   5 ７六歩(77)   (00:00/00:00:08)
   6 ４四歩(43)   (00:01/00:00:03)
   7 ４八銀(39)   (00:02/00:00:10)
   8 ４二飛(82)   (00:01/00:00:04)
*△戦型：四間飛車
*△備考：振り飛車
   9 ６八玉(59)   (00:03/00:00:13)
  10 ６二玉(51)   (00:01/00:00:05)
  11 ７八玉(68)   (00:00/00:00:13)
  12 ７二玉(62)   (00:01/00:00:06)
  13 ５八金(49)   (00:03/00:00:16)
*▲囲い：舟囲い
  14 ８二玉(72)   (00:02/00:00:08)
  15 ５六歩(57)   (00:01/00:00:17)
  16 ７二銀(71)   (00:01/00:00:09)
*△囲い：片美濃囲い
  17 ９六歩(97)   (00:01/00:00:18)
  18 ９四歩(93)   (00:02/00:00:11)
  19 ６八銀(79)   (00:00/00:00:18)
  20 ５二金(41)   (00:03/00:00:14)
*△囲い：美濃囲い
  21 ３六歩(37)   (00:02/00:00:20)
  22 ３二銀(31)   (00:01/00:00:15)
  23 １六歩(17)   (00:00/00:00:20)
  24 ６四歩(63)   (00:11/00:00:26)
  25 ５七銀(68)   (00:02/00:00:22)
  26 ４三銀(32)   (00:09/00:00:35)
  27 ６八金(69)   (00:03/00:00:25)
*▲囲い：舟囲いDX
  28 ５四歩(53)   (00:14/00:00:49)
  29 ４六歩(47)   (00:01/00:00:26)
  30 ６三金(52)   (00:10/00:00:59)
*△囲い：高美濃囲い
  31 ３七桂(29)   (00:01/00:00:27)
  32 ７四歩(73)   (00:06/00:01:05)
  33 ２四歩(25)   (00:01/00:00:28)
  34 ２四歩(23)   (00:03/00:01:08)
  35 ４五歩(46)   (00:01/00:00:29)
"
info = Parser.parse(kif_str)
puts info.formatter.container
puts info.to_ki2

# >> 後手の持駒：歩
# >>   ９ ８ ７ ６ ５ ４ ３ ２ １
# >> +---------------------------+
# >> |v香v桂 ・v金 ・ ・ ・v桂v香|一
# >> | ・v玉v銀 ・ ・v飛 ・ ・ ・|二
# >> | ・v歩 ・v金 ・v銀v角 ・v歩|三
# >> |v歩 ・v歩v歩v歩v歩v歩v歩 ・|四
# >> | ・ ・ ・ ・ ・ 歩 ・ ・ ・|五
# >> | 歩 ・ 歩 ・ 歩 ・ 歩 ・ 歩|六
# >> | ・ 歩 ・ 歩 銀 ・ 桂 ・ ・|七
# >> | ・ 角 玉 金 金 銀 ・ 飛 ・|八
# >> | 香 桂 ・ ・ ・ ・ ・ ・ 香|九
# >> +---------------------------+
# >> 先手の持駒：なし
# >> 手数＝35 ▲４五歩(46) まで
# >> 後手番
# >> 先手の戦型：▲４五歩早仕掛け
# >> 後手の戦型：四間飛車
# >> 先手の囲い：舟囲いDX
# >> 後手の囲い：高美濃囲い
# >> 先手の備考：居飛車, 対振り, 対抗型
# >> 後手の備考：振り飛車, 対抗型
# >> 手合割：平手
# >> 
# >> ▲２六歩   △３四歩 ▲２五歩   △３三角   ▲７六歩   △４四歩 ▲４八銀 △４二飛
# >> ▲６八玉   △６二玉 ▲７八玉   △７二玉   ▲５八金右 △８二玉 ▲５六歩 △７二銀
# >> ▲９六歩   △９四歩 ▲６八銀   △５二金左 ▲３六歩   △３二銀 ▲１六歩 △６四歩
# >> ▲５七銀左 △４三銀 ▲６八金上 △５四歩   ▲４六歩   △６三金 ▲３七桂 △７四歩
# >> ▲２四歩   △同　歩 ▲４五歩
# >> まで35手で先手の勝ち
